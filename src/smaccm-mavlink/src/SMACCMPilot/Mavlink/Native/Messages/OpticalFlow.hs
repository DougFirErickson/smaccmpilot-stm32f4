{-# LANGUAGE DataKinds #-}
{-# LANGUAGE RecordWildCards #-}
{-# OPTIONS_GHC -fno-warn-unused-imports #-}

-- Autogenerated Mavlink v1.0 implementation: see smavgen_haskell.py

module SMACCMPilot.Mavlink.Native.Messages.OpticalFlow where

import Data.Word
import Data.Int
import Data.Sized.Matrix (Vector)
import Data.Serialize
import SMACCMPilot.Mavlink.Native.Serialize

opticalFlowMsgId :: Word8
opticalFlowMsgId = 100

opticalFlowCrcExtra :: Word8
opticalFlowCrcExtra = 175

data OpticalFlowMsg =
  OpticalFlowMsg
    { time_usec :: Word64
    , flow_comp_m_x :: Float
    , flow_comp_m_y :: Float
    , ground_distance :: Float
    , flow_x :: Int16
    , flow_y :: Int16
    , sensor_id :: Word8
    , quality :: Word8
    }

getOpticalFlowMsg :: Get OpticalFlowMsg
getOpticalFlowMsg = do
  time_usec <- get
  flow_comp_m_x <- get
  flow_comp_m_y <- get
  ground_distance <- get
  flow_x <- get
  flow_y <- get
  sensor_id <- get
  quality <- get
  return OpticalFlowMsg{..}

putOpticalFlowMsg :: OpticalFlowMsg -> Put
putOpticalFlowMsg OpticalFlowMsg{..} = do
  put time_usec
  put flow_comp_m_x
  put flow_comp_m_y
  put ground_distance
  put flow_x
  put flow_y
  put sensor_id
  put quality

