{-# LANGUAGE DataKinds #-}
{-# LANGUAGE RecordWildCards #-}
{-# OPTIONS_GHC -fno-warn-unused-imports #-}

-- Autogenerated Mavlink v1.0 implementation: see smavgen_haskell.py

module SMACCMPilot.Mavlink.Native.Messages.OmnidirectionalFlow where

import Data.Word
import Data.Int
import Data.Sized.Matrix (Vector)
import Data.Serialize
import SMACCMPilot.Mavlink.Native.Serialize

omnidirectionalFlowMsgId :: Word8
omnidirectionalFlowMsgId = 106

omnidirectionalFlowCrcExtra :: Word8
omnidirectionalFlowCrcExtra = 211

data OmnidirectionalFlowMsg =
  OmnidirectionalFlowMsg
    { time_usec :: Word64
    , front_distance_m :: Float
    , left :: Vector 10 Int16
    , right :: Vector 10 Int16
    , sensor_id :: Word8
    , quality :: Word8
    }

getOmnidirectionalFlowMsg :: Get OmnidirectionalFlowMsg
getOmnidirectionalFlowMsg = do
  time_usec <- get
  front_distance_m <- get
  left <- get
  right <- get
  sensor_id <- get
  quality <- get
  return OmnidirectionalFlowMsg{..}

putOmnidirectionalFlowMsg :: OmnidirectionalFlowMsg -> Put
putOmnidirectionalFlowMsg OmnidirectionalFlowMsg{..} = do
  put time_usec
  put front_distance_m
  put left
  put right
  put sensor_id
  put quality

